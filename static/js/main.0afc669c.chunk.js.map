{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDeleteClick","src","link","alt","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","classId","isOpen","id","handleOverlayClose","onClose","onSubmit","title","children","value","buttonText","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","api","options","this","_headers","headers","_baseUrl","baseUrl","_handleReturnPromise","res","ok","json","Promise","reject","status","fetch","then","data","method","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","isImagePopupOpen","setIsImagePopupOpen","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setCurrentUser","setIsLoading","closeAllPopups","classList","contains","all","getInitialCards","getProfileInfo","catch","err","console","log","Provider","deleteLike","newCard","prevCards","c","setLike","userInfo","setProfileInfo","finally","avatarLink","changeAvatar","setNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.0afc669c.chunk.js","sourcesContent":["function Header(){\n    return(\n        <header className=\"header\">\n            <div className=\"header__logo\"></div>\n        </header>\n    )\n}\n\nexport default Header;\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext('');\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__delete-button ${isOwn ? '' : 'element__delete-button_hidden'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName =(`element__like ${isLiked ? 'element__like_active' : ''}`);\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  function handleLikeClick(){\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleDeleteClick(){\r\n    props.onCardDeleteClick(props.card);\r\n  }\r\n\r\n  return(\r\n    <article className=\"element\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"удалить фото\" onClick={handleDeleteClick}></button>\r\n      <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"лайк\" onClick={handleLikeClick}></button>\r\n          <p className=\"element__like-numbers\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction  Main(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    return(\r\n      <main className=\"content\">\r\n        <section className=\"profile profile_page_size\">\r\n          <div className=\"profile__items\">\r\n            <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\"/>\r\n            <div className=\"profile__info\">\r\n              <div className=\"profile__fullname\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"profile__edit-button\" type=\"button\" aria-label=\"кнопка изменения профиля\" onClick={props.onEditProfile}></button>\r\n              </div>\r\n              <p className=\"profile__description\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__button\" type=\"button\" aria-label=\"добавить фото\" onClick={props.onAddPlace}></button>\r\n        </section>\r\n        <section className=\"elements elements_page_size\">\r\n          {props.cards.map((card) =>{\r\n            return (\r\n              <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDeleteClick={props.onCardDeleteClick}/>\r\n            )\r\n          })}\r\n        </section>\r\n      </main>\r\n    )\r\n};\r\nexport default Main;\r\n","function Footer(){\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n};\r\nexport default Footer;\r\n","import React from 'react';\n\nfunction PopupWithForm(props){\n  const classId=`popup_type_${props.name}`;\n\n    return(\n      <div className={props.isOpen ? \"popup popup_opened\":\"popup\"} id={classId} onClick={props.handleOverlayClose}>\n        <div className=\"popup__container\">\n          <button className=\"popup__close-icon\" type=\"button\" aria-label=\"закрыть форму\" id={`button_close_${props.name}`} onClick={props.onClose}></button>\n          <form className=\"popup__form\" name={props.name} id={`form_${props.name}`} onSubmit={props.onSubmit}>\n            <h2 className=\"popup__title\">{props.title}</h2>\n            {props.children}\n            <button className={`popup__button popup__button_el_${props.name}`} type=\"submit\" id={`button_${props.name}`}\n            value={props.buttonText}>{props.isLoading ? 'Сохранение...' : props.buttonText}</button>\n          </form>\n        </div>\n      </div>\n    )\n\n}\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props){\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleChangeName(e){\n    setName(e.target.value);\n  }\n  function handleChangeDescription(e){\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e){\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  return(\n    <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" onClose={props.onClose} isOpen={props.isOpen} buttonText=\"Сохранить\"\n    onSubmit={handleSubmit} isLoading={props.isLoading} handleOverlayClose={props.handleOverlayClose}>\n      <input className=\"popup__input popup__input_el_name\" id =\"name-profile\" name=\"name\" type=\"text\" value={name}\n      placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required onChange={handleChangeName}/>\n      <span className=\"popup__error\" id=\"name-profile-error\"></span>\n      <input className=\" popup__input popup__input_el_job\" id=\"job-profile\" type=\"text\" value={description}\n       placeholder=\"Описание\" name=\"about\" minLength=\"2\" maxLength=\"200\" required onChange={handleChangeDescription}/>\n      <span className=\"popup__error\" id=\"job-profile-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n function EditAvatarPopup(props){\n   const avatarRef = React.useRef();\n\n  function handleSubmit(e){\n    e.preventDefault();\n    props.onUpdateAvatar(avatarRef.current.value)\n  }\n   return(\n    <PopupWithForm title=\"Обновить аватар\" name=\"avatar\" isOpen={props.isOpen} onClose={props.onClose} buttonText=\"Сохранить\"\n    onSubmit={handleSubmit} isLoading={props.isLoading} handleOverlayClose={props.handleOverlayClose}>\n      <input className=\" popup__input popup__input_el_avatar\" id=\"avatar\" type=\"url\"\n      placeholder=\"Ссылка на фото\" name=\"avatar\" required  ref={avatarRef}/>\n      <span className=\"popup__error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n   )\n }\n\n export default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props){\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n  function handleChangeName(e){\n    setName(e.target.value);\n  }\n  function handleChangeLink(e){\n    setLink(e.target.value);\n  }\n  function handleSubmit(e){\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link,\n    });\n  }\n  return(\n    <PopupWithForm title=\"Новое место\" name=\"place\" isOpen={props.isOpen} onClose={props.onClose} buttonText=\"Создать\"\n    onSubmit={handleSubmit} isLoading={props.isLoading} handleOverlayClose={props.handleOverlayClose}>\n      <input className=\"popup__input popup__input_el_place-name\" id=\"place-name\" type=\"text\"\n      placeholder=\"Название\" name=\"name\" minLength=\"2\" maxLength=\"30\" required onChange={handleChangeName}/>\n      <span className=\"popup__error\" id=\"place-name-error\"></span>\n      <input className=\" popup__input popup__input_el_link\" id=\"link\" type=\"url\"\n      placeholder=\"Ссылка на картинку\" name=\"link\" required onChange={handleChangeLink}/>\n      <span className=\"popup__error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","function ImagePopup(props){\n  return(\n    <div className= {props.isOpen ? \"popup popup_opened popup_type_image\" : \"popup popup_type_image\"}\n    id='popup_type_image' onClick={props.handleOverlayClose}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button className=\"popup__close-icon\" type=\"button\" aria-label=\"закрыть форму\" id=\"button_close_image\" onClick={props.onClose}></button>\n        <figure className=\"popup__image-container\">\n          <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\nexport default ImagePopup;\n","export class Api{\r\n  constructor(options){\r\n    this._headers = options.headers;\r\n    this._baseUrl = options.baseUrl;\r\n    this._handleReturnPromise = ((res) => {\r\n      if(res.ok){\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Произошла ошибка: ${res.status} :(`);\r\n    });\r\n  }\r\n  /**Cards */\r\n  getInitialCards(){\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n    headers: this._headers\r\n  })\r\n  .then((res) => this._handleReturnPromise(res));\r\n  }\r\n  setNewCard(data){\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n  deleteCard(cardId){\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`,{\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n  }\r\n\r\n  /**likes */\r\n  setLike(cardId){\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n  deleteLike(cardId){\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n\r\n  //**Profile */\r\n  getProfileInfo(){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n\r\n  setProfileInfo(data){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n\r\n  /**Avatar */\r\n  changeAvatar(data){\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n       avatar: data\r\n      })\r\n    })\r\n    .then((res) => this._handleReturnPromise(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-29',\r\n  headers: {\r\n    authorization: '0b6e9c86-816e-4cef-834f-31796e0eee5d',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({name:'', link:''});\n  const [deletedCard, setDeletedCard] = React.useState('');\n  const [currentUser, setCurrentUser ] = React.useState('');\n\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  function handleCardClick (card){\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n  function handleEditAvatarClick(){\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick(){\n    setIsEditProfilePopupOpen(true);\n\n  }\n  function handleAddPlaceClick(){\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleDeletePopupClick(card){\n    setDeletedCard(card);\n    setIsConfirmationPopupOpen(true);\n  }\n\n  function closeAllPopups(){\n    setIsImagePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmationPopupOpen(false);\n  }\n  React.useEffect(() =>{\n    Promise.all([api.getInitialCards(), api.getProfileInfo()])\n      .then((res) => {\n        setCards(res[0]);\n        setCurrentUser(res[1]);\n      })\n      .catch((err) => {\n      console.log(err);\n      })\n  }, []);\n\n  function handleUpdateUser(userInfo){\n    setIsLoading(true);\n    api.setProfileInfo(userInfo)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n  function handleUpdateAvatar(avatarLink){\n    setIsLoading(true);\n    api.changeAvatar(avatarLink)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if(isLiked){\n      api.deleteLike(card._id)\n        .then((newCard) => {\n          setCards((prevCards) => prevCards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else{\n      api.setLike(card._id)\n        .then((newCard) =>{\n          setCards((prevCards) => prevCards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n  }\n\n  function handleCardDelete(e){\n    e.preventDefault();\n    setIsLoading(true);\n    api.deleteCard(deletedCard._id)\n      .then(() => {\n        setCards((prevCards) => prevCards.filter((c) => c._id !== deletedCard._id && c));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(data){\n    setIsLoading(true);\n    api.setNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleOverlayClose(e){\n    if(e.target.classList.contains('popup')){\n      closeAllPopups();\n    }\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick} cards={cards}  onCardLike={handleCardLike} onCardDeleteClick={handleDeletePopupClick}/>\n        <Footer />\n        <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} isLoading={isLoading}\n        handleOverlayClose={handleOverlayClose}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}\n        handleOverlayClose={handleOverlayClose}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}\n        handleOverlayClose={handleOverlayClose}/>\n        <PopupWithForm title=\"Вы уверены?\" name=\"check\" onClose={closeAllPopups} buttonText=\"Да\" isOpen={isConfirmationPopupOpen}\n        onSubmit={handleCardDelete} isLoading={isLoading} handleOverlayClose={handleOverlayClose}/>\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} isOpen={isImagePopupOpen} handleOverlayClose={handleOverlayClose}/>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector('#root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}